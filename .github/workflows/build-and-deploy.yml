name: Build and Deploy

on:
  push:
    tags:
      - '*'
    branches-ignore:
      - '**'

jobs:
  deploy:
    uses: Shawiizz/devops/.github/workflows/build-and-deploy.yml@main
    with:
      tag: ${{ github.ref_name }}
    secrets:
      ANSIBLE_BECOME_PASSWORD: ${{ secrets.ANSIBLE_BECOME_PASSWORD }}
      PRODUCTION_SSH_PRIVATE_KEY: ${{ secrets.PRODUCTION_SSH_PRIVATE_KEY }}
